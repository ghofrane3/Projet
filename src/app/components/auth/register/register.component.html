<!-- Register Component Template -->
<div class="register-container">
  <div class="register-card">

    <!-- Header -->
    <div class="register-header">
      <h1>Cr√©er un compte</h1>
      <p>Rejoignez-nous d√®s maintenant</p>
    </div>

    <!-- Error Message -->
    <div *ngIf="error" class="error-message">
      <span>{{ error }}</span>
    </div>

    <!-- MESSAGE EMAIL ENVOY√â -->
    <div *ngIf="showEmailSent" class="success-message">
      <h3>üìß Email envoy√© !</h3>
      <p>{{ successMessage }}</p>
      <p>V√©rifiez votre bo√Æte mail et cliquez sur le lien pour activer votre compte.</p>
    </div>

    <!-- Register Form -->
    <form class="register-form" (ngSubmit)="onRegister()">

      <!-- Name -->
      <div class="form-group">
        <label>Nom complet</label>
        <input
          type="text"
          [(ngModel)]="name"
          name="name"
          required
          [disabled]="loading"
        />
      </div>

      <!-- Email -->
      <div class="form-group">
        <label>Email</label>
        <input
          type="email"
          [(ngModel)]="email"
          name="email"
          required
          [disabled]="loading"
        />
      </div>

      <!-- Password -->
      <div class="form-group">
        <label>Mot de passe</label>
        <input
          [type]="showPassword ? 'text' : 'password'"
          [(ngModel)]="password"
          name="password"
          required
          minlength="6"
          [disabled]="loading"
        />
        <button type="button" (click)="togglePassword()">Afficher</button>
      </div>

      <!-- Confirm Password -->
      <div class="form-group">
        <label>Confirmer mot de passe</label>
        <input
          [type]="showConfirmPassword ? 'text' : 'password'"
          [(ngModel)]="confirmPassword"
          name="confirmPassword"
          required
          [disabled]="loading"
        />
        <button type="button" (click)="toggleConfirmPassword()">Afficher</button>

        <small *ngIf="confirmPassword && password !== confirmPassword">
          Les mots de passe ne correspondent pas
        </small>
      </div>

      <!-- Terms -->
      <label>
        <input
          type="checkbox"
          [(ngModel)]="acceptTerms"
          name="acceptTerms"
          [disabled]="loading"
        />
        J'accepte les conditions
      </label>

      <!-- Submit -->
      <button
        type="submit"
        [disabled]="loading || !acceptTerms"
      >
        <span *ngIf="!loading">Cr√©er mon compte</span>
        <span *ngIf="loading">Cr√©ation...</span>
      </button>

    </form>

    <!-- Login link -->
    <div class="login-link">
      <p>Vous avez d√©j√† un compte ?</p>
      <a routerLink="/login">Se connecter</a>
    </div>

  </div>
</div>
